---
title: "Corona Virus Spread Analysis(COVID-19)"
author: "Anish Singh Walia"
date: "15/03/2020"
output: html_document
---

This document will contain the latest confirmed cases, deaths,recoveries and time series analysis of the COVID-19 cases in a real time fashion.

```{r setup, include=FALSE,message=FALSE,warning=FALSE}


require(dplyr)
require(highcharter)
require(ggplot2)
require(readr)
require(tidyr)



```


let's read the data now. I will be downloading the data directly from github. To do so follow the below steps:

1. Go to the github repository link where you have the CSV file

2. Click on the raw option present on the top right of the data

3. This will open a new window in the browser

4. The link should be like https://raw.githubusercontent.com/..

5. You have to use this link to download csv file from the Github


```{r message=FALSE,warning=FALSE}

urlConfirmed <- "https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Confirmed.csv"

urlDeaths<-"https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Deaths.csv"

urlRecoveries<-"https://raw.githubusercontent.com/CSSEGISandData/COVID-19/master/csse_covid_19_data/csse_covid_19_time_series/time_series_19-covid-Recovered.csv"

latestConf<-read_csv(url(urlConfirmed))

latestDeaths<-read_csv(url(urlDeaths))

latestRecoveries<-read_csv(url(urlRecoveries))


head(latestConf)

```


All the above datasets are time series data sets i.e each date is a column.


#### Let's make this wide dataset into a long dataset and do some cleaning

We will make a new dataframe with just the dates and confirmed cases on that particular day.

```{r message=FALSE,warning=FALSE}

latestConf_long<- gather(latestConf, Date, Count, `1/22/20`:ncol(latestConf))

latestDeaths_long<- gather(latestDeaths, Date, Count, `1/22/20`:ncol(latestDeaths) )

latestRecoveries_long<- gather(latestRecoveries, Date, Count, `1/22/20`:ncol(latestRecoveries) )

Date_latestConf_long <- latestConf_long %>% 
  group_by(Date) %>%
  summarise(nConfirmed=sum(Count)) %>% 
  arrange((nConfirmed))


Date_latestDeaths_long_date <- latestDeaths_long %>% 
  group_by(Date) %>%
  summarise(nDeaths=sum(Count)) %>% 
  arrange((nDeaths))


Date_latestRecoveries_long_date <- latestRecoveries_long %>% 
  group_by(Date) %>%
  summarise(nRecoveries=sum(Count)) %>% 
  arrange((nRecoveries))


head(Date_latestConf_long)
```


